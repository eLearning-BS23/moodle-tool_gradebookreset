define ("tool_resetcoursecompletion/resetbutton",["jquery","core/ajax","core/modal_factory","core/modal_events","core/notification"],function(a,b,c,d,e){a(".resetbutton").on("click",function(f){var g=[],h=a(this).attr("id");a(".myCheckbox").each(function(a,b){if(b.checked){g.push(b.value)}});var i=h.split("_"),j=i[i.length-1],k=a(f.currentTarget);c.create({type:c.types.SAVE_CANCEL,title:"Reset grade",body:"Do you really want to reset?"}).then(function(a){a.setSaveButtonText("Reset");var c=a.getRoot();c.on(d.save,function(){var a={methodname:"tool_resetcoursecompletion_reset_grades",args:{useridArray:g,courseid:j}};console.log(a);b.call([a])[0].done(function(a){if(1>a.warnings.length){console.log("Response");console.log(a);window.location.href="http://localhost/moodle/admin/tool/resetcoursecompletion/index.php?id=".concat(j,"&submit=Show+Participants")}else{e.addNotification({message:"Something went wrong!",type:"error"})}}).fail(e.exception)});a.show()})})});
//# sourceMappingURL=resetbutton.min.js.map
