define ("tool_gradebookreset/resetbutton",["jquery","core/ajax","core/str","core/modal_factory","core/modal_events","core/notification"],function(a,b,c,d,e,f){a(".resetbutton").on("click",function(g){var h=[],i=a(this).attr("id");console.log(i);a(".myCheckbox").each(function(a,b){if(b.checked){h.push(b.value);console.log(h)}});var j=i.split("_"),k=j[j.length-1],l=a(g.currentTarget);console.log(h);if(0>=h.length){c.get_string("selectalert","tool_gradebookreset").then(function(a){f.addNotification({message:a,type:"error"})}).catch(f.exception)}else{d.create({type:d.types.SAVE_CANCEL,title:c.get_string("resettitle","tool_gradebookreset"),body:c.get_string("resetpermission","tool_gradebookreset")}).then(function(d){d.setSaveButtonText(c.get_string("reset","tool_gradebookreset"));var g=d.getRoot();g.on(e.save,function(){var c={useridArray:h.join(","),courseid:k},d={methodname:"tool_gradebookreset_reset_grades",args:c};console.log(d);b.call([d])[0].done(function(b){if(1>b.warnings.length){console.log("Response");console.log(b);window.location.href=a(location).attr("href")}else{f.addNotification({message:"Something went wrong!",type:"error"})}}).fail(f.exception)});d.show()})}})});
//# sourceMappingURL=resetbutton.min.js.map
