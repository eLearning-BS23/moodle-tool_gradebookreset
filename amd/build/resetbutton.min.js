define ("tool_resetcoursecompletion/resetbutton",["jquery","core/ajax","core/str","core/modal_factory","core/modal_events","core/notification"],function(a,b,c,d,e,f){a(".resetbutton").on("click",function(g){var h=[],i=a(this).attr("id");console.log(i);a(".myCheckbox").each(function(a,b){if(b.checked){h.push(b.value);console.log(h)}});var j=i.split("_"),k=j[j.length-1],l=a(g.currentTarget);console.log(h);if(0>=h.length){alert("Select a user first")}else{d.create({type:d.types.SAVE_CANCEL,title:c.get_string("resettitle","tool_resetcoursecompletion"),body:c.get_string("resetpermission","tool_resetcoursecompletion")}).then(function(c){c.setSaveButtonText("Reset");var d=c.getRoot();d.on(e.save,function(){var c={useridArray:h.join(","),courseid:k},d={methodname:"tool_resetcoursecompletion_reset_grades",args:c};console.log(d);b.call([d])[0].done(function(b){if(1>b.warnings.length){console.log("Response");console.log(b);window.location.href=a(location).attr("href")}else{f.addNotification({message:"Something went wrong!",type:"error"})}}).fail(f.exception)});c.show()})}})});
//# sourceMappingURL=resetbutton.min.js.map
